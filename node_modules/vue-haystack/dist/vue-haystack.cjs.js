"use strict";var F=Object.defineProperty,j=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var M=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))A.call(t,n)&&M(e,n,t[n]);if(g)for(var n of g(t))q.call(t,n)&&M(e,n,t[n]);return e},$=(e,t)=>j(e,z(t));Object.defineProperty(exports,"__esModule",{value:!0});exports[Symbol.toStringTag]="Module";var o=require("vue"),f,H=new Uint8Array(16);function L(){if(!f&&(f=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!f))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(H)}var N=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function U(e){return typeof e=="string"&&N.test(e)}var l=[];for(var C=0;C<256;++C)l.push((C+256).toString(16).substr(1));function G(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!U(n))throw TypeError("Stringified UUID is invalid");return n}function X(e,t,n){e=e||{};var a=e.random||(e.rng||L)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=a[r];return t}return G(a)}const S=(e,t=()=>({}))=>{const n=o.ref([]),i=v(v({},{items:n,remove:d=>{const m=n.value.findIndex(_=>_.id===d);m!==-1&&n.value.splice(m,1)},push:(d,m,_,O)=>{const{item:D,useReturn:V}=e({id:X(),component:o.markRaw(d),props:m||{},listeners:_||{},options:O||null});return n.value.push(D),V}}),t(n)),s=()=>i,u=Symbol("item");return{store:i,useStore:s,useItem:()=>o.inject(u),provideItem:d=>(o.provide(u,d),d)}},J=S(e=>{let t;const n=new Promise(r=>{t=r}),a=$(v({},e),{close:r=>{P.remove(e.id),t(r)},options:v({closeOnOverlayClick:!0},e.options)});return{item:a,useReturn:{onClose:r=>(n.then(r),a)},options:a.options}},e=>({activeModal:o.computed(()=>e.value.slice(-1)[0]||null)})),{useStore:h,useItem:K,provideItem:w,store:P}=J;var y=(e,t)=>{const n=e.__vccOpts||e;for(const[a,r]of t)n[a]=r;return n};const Q=o.defineComponent({name:"ModalProvider",components:{},props:{modal:{type:Object,required:!0}},setup:e=>(w(e.modal),{})});function W(e,t,n,a,r,c){return o.openBlock(),o.createElementBlock("div",null,[o.renderSlot(e.$slots,"default",{modal:e.modal})])}var B=y(Q,[["render",W]]);const Y="_modalContainer_ato2o_1",Z="_overlay_ato2o_13",x="_layer_ato2o_21",ee="_clickable_ato2o_26",oe="_modal_ato2o_1";var te={modalContainer:Y,overlay:Z,layer:x,clickable:ee,modal:oe};const ne=o.defineComponent({name:"ModalContainer",components:{ModalProvider:B},setup:e=>{const t=h(),n=o.computed(()=>t.activeModal.value),a=c=>{var i;((i=c.options)==null?void 0:i.closeOnOverlayClick)&&c.close()};return{modals:o.computed(()=>t.items.value),activeModal:n,overlayClick:a}}}),re=["onClick"];function se(e,t,n,a,r,c){const i=o.resolveComponent("ModalProvider");return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(e.$style.modalContainer)},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.modals,s=>(o.openBlock(),o.createBlock(i,{key:s.id,modal:s},{default:o.withCtx(()=>{var u,p;return[o.withDirectives(o.createElementVNode("div",{class:o.normalizeClass([e.$style.overlay,{[e.$style.clickable]:(u=s.options)==null?void 0:u.closeOnOverlayClick}]),onClick:k=>e.overlayClick(s)},[o.renderSlot(e.$slots,"overlay",{},()=>[o.createElementVNode("div",{class:o.normalizeClass(e.$style.layer)},null,2)])],10,re),[[o.vShow,s.id===((p=e.activeModal)==null?void 0:p.id)]]),o.renderSlot(e.$slots,"default",{modal:s,activeModal:e.activeModal},()=>{var k;return[o.withDirectives((o.openBlock(),o.createBlock(o.resolveDynamicComponent(s.component),o.mergeProps({key:s.id,class:e.$style.modal},s.props,o.toHandlers(s.listeners)),null,16,["class"])),[[o.vShow,s.id===((k=e.activeModal)==null?void 0:k.id)]])]})]}),_:2},1032,["modal"]))),128))],2)}const ae={$style:te};var le=y(ne,[["render",se],["__cssModules",ae]]);const I=(e,t=0,n=100)=>{let a=new Date().getTime(),r=t;const c=o.reactive({value:t}),i=o.reactive({value:1});let s=null,u=null;const p=()=>{s&&(clearTimeout(s),s=null),u&&(clearInterval(u),u=null)},k=()=>{p(),r=r-(new Date().getTime()-a)},d=()=>{t<=0||(s||(s=setTimeout(e,r)),a=new Date().getTime(),u||(u=setInterval(()=>{const m=r-(new Date().getTime()-a);c.value=m,i.value=m/t},n)))};return d(),{clear:p,pause:k,resume:d,remainingTime:c,progress:i,duration:t}},ce=S(e=>{let t;const n=new Promise(c=>{t=c}),a=v({time:0},e.options),r=$(v({},e),{close:c=>{R.remove(e.id),t(c),r.timer.clear()},timer:I(()=>{r.close()},a.time),options:a});return{item:r,useReturn:{onClose:c=>(n.then(c),r)},options:r.options}},e=>({log:()=>{console.log(e)}})),{useStore:T,useItem:ie,provideItem:b,store:R}=ce,ue=o.defineComponent({name:"SnackProvider",components:{},props:{snack:{type:Object,required:!0}},setup:e=>(b(e.snack),{})});function de(e,t,n,a,r,c){return o.openBlock(),o.createElementBlock("div",null,[o.renderSlot(e.$slots,"default",{snack:e.snack})])}var E=y(ue,[["render",de]]);const me="_snackContainer_1io5o_1",ve="_snackProvider_1io5o_13",pe="_snack_1io5o_1",ke="_leaveActive_1io5o_20",fe="_enterFrom_1io5o_24",ye="_leaveTo_1io5o_29";var _e={snackContainer:me,snackProvider:ve,snack:pe,leaveActive:ke,enterFrom:fe,leaveTo:ye};const $e=o.defineComponent({name:"SnackContainer",components:{SnackProvider:E},setup:e=>{const t=T();return{snacks:o.computed(()=>t.items.value)}}});function Ce(e,t,n,a,r,c){const i=o.resolveComponent("SnackProvider");return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(e.$style.snackContainer)},[o.createVNode(o.TransitionGroup,{"leave-active-class":e.$style.leaveActive,"enter-from-class":e.$style.enterFrom,"leave-to-class":e.$style.leaveTo,appear:""},{default:o.withCtx(()=>[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.snacks,s=>(o.openBlock(),o.createBlock(i,{key:s.id,class:o.normalizeClass(e.$style.snackProvider),snack:s},{default:o.withCtx(()=>[o.renderSlot(e.$slots,"default",{snack:s},()=>[(o.openBlock(),o.createBlock(o.resolveDynamicComponent(s.component),o.mergeProps({key:s.id,class:e.$style.snack},s.props,o.toHandlers(s.listeners)),null,16,["class"]))])]),_:2},1032,["class","snack"]))),128))]),_:3},8,["leave-active-class","enter-from-class","leave-to-class"])],2)}const Se={$style:_e};var ge=y($e,[["render",Ce],["__cssModules",Se]]);exports.ModalContainer=le;exports.ModalProvider=B;exports.SnackContainer=ge;exports.SnackProvider=E;exports.createItemStoreInstance=S;exports.modalStore=P;exports.provideModal=w;exports.provideSnack=b;exports.snackTimer=I;exports.snackbarStore=R;exports.useModal=K;exports.useModalStore=h;exports.useSnack=ie;exports.useSnackbar=T;
